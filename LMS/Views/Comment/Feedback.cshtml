@model IEnumerable<LMS.Models.Comment>

@{
    ViewBag.Title = "View";
}

<h2>Feedback</h2>
<table class="table">
    @*<tr>
        <th>
			Teacher
           
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Submission.FileName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Text)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Read)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>
        <th></th>
    </tr>*@
@foreach (var thing in Model)
{
	@Html.DisplayFor(modelItem => thing.Submission)
}


@foreach (var item in Model.GroupBy(c => c.Submission).OrderBy(s => s.Key.Comments.Max(c => c.Date)))
{
    <tr>
		<td>
			<p>@Html.DisplayFor(modelItem => item.Key.FileName)</p>
				
			@foreach (var subitem in item)
			{
				@subitem.Commenter.GetFullName()
				
				<p>@subitem.Text @subitem.Date</p>
			
			}
		</td>
		
        @*<td>
            @Html.DisplayFor(modelItem => item.Commenter.FirstName)
			@Html.DisplayFor(modelItem => item.Commenter.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Submission.FileName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Text)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Read)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Date)
        </td>*@
    </tr>
}

</table>
